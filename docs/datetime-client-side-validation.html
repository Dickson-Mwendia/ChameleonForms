<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Client-side validation of DateTime fields in ASP.NET MVC using DisplayFormat | ChameleonForms </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Client-side validation of DateTime fields in ASP.NET MVC using DisplayFormat | ChameleonForms ">
    <meta name="generator" content="docfx 2.56.1.0">
    
    <link rel="shortcut icon" href="../docs/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../docs/logo-small.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="client-side-validation-of-datetime-fields-in-aspnet-mvc-using-displayformat">Client-side validation of DateTime fields in ASP.NET MVC using DisplayFormat</h1>

<p>ChameleonForms provides a way for you to hook into either the <a href="https://github.com/aspnet/jquery-validation-unobtrusive">jQuery validation unobtrusive library</a> that ASP.NET Core MVC ships with or the <a href="https://github.com/ryanelian/aspnet-validation">aspnet-validation library</a> that provides equivalent functionality without requiring jQuery to validate that the date format the user specifies is OK on the client-side based on the format string you provided.</p>
<p>If you want support added for other validation libraries then please <a href="https://github.com/MRCollective/ChameleonForms/issues">raise an issue to discuss</a>.</p>
<h2 id="using-the-validation">Using the validation</h2>
<p>In order for this to work you need to:</p>
<ol>
<li>Ensure the client validation provider is registered, this is <a href="configuration.html#default-global-config">on by default</a></li>
<li>Ensure you have either jQuery validation unobtrusive or aspnet-validation working</li>
<li>Reference the <a href="https://github.com/MRCollective/ChameleonForms/blob/master/ChameleonForms.Example/wwwroot/lib/chameleonforms/unobtrusive-date-validation.chameleonforms.js">unobtrusive-date-validation.chameleonforms.js</a> file
<ul>
<li>By default, when you <a href="getting-started.html">install ChameleonForms by NuGet</a> this file will be placed into <code>wwwroot/lib/chameleonforms/unobtrusive-date-validation.chameleonforms.js</code> for you when you build. If you don't want that to happen check out <a href="configuration.html#msbuild-configuration">configuration</a>.</li>
</ul>
</li>
<li>Place the <code>[DisplayFormat(DataFormatString = &quot;{0:%format%}&quot;, ApplyInEditMode = true)]</code> attribute on the model property</li>
<li>Output the field using ChameleonForms</li>
</ol>
<p>If you aren't using ChameleonForms to output the field then replace step 2 and 3 with:</p>
<ol>
<li>Include the <code>data-val=&quot;true&quot;</code> attribute to turn on unobtrusive validation for that field</li>
<li>Include the <code>data-val-date=&quot;%errorMessageIfDateIsIncorrect%&quot;</code> attribute to indicate the field is a date and what message should display if the user enters an invalid date</li>
<li>Include the <code>data-val-format=&quot;%formatString%&quot;</code> attribute to indicate the format string that should be validated against</li>
</ol>
<h2 id="client-validation-provider">Client validation provider</h2>
<p>The <a href="https://github.com/MRCollective/ChameleonForms/blob/master/ChameleonForms/Validators/DateTimeClientModelValidatorProvider.cs">client validation provider</a> that ensures the validation attributes are added is added <a href="configuration.html#default-global-config">by the default global config</a>. If you want to register it yourself then you can:</p>
<pre><code class="lang-cs">    public void ConfigureServices(IServiceCollection services)
    {
        ...
        services.AddChameleonForms(b =&gt; b.WithoutDateTimeClientModelValidation());
        services.Configure&lt;MvcViewOptions&gt;(x =&gt;
        {
            x.ClientModelValidatorProviders.Add(new DateTimeClientModelValidatorProvider());
            ...
        });
    }
</code></pre>
<h2 id="supported-formats">Supported formats</h2>
<p>Only the following date format strings are supported (want more added? feel free to <a href="https://github.com/MRCollective/ChameleonForms/pulls">send a pull request</a>):</p>
<ul>
<li><code>d/M/yyyy</code></li>
<li><code>d-M-yyyy</code></li>
<li><code>d.M.yyyy</code></li>
<li><code>d/M/yy</code></li>
<li><code>d-M-yy</code></li>
<li><code>d.M.yy</code></li>
<li><code>dd/MM/yyyy</code></li>
<li><code>dd-MM-yyyy</code></li>
<li><code>dd.MM.yyyy</code></li>
<li><code>dd/MM/yy</code></li>
<li><code>dd-MM-yy</code></li>
<li><code>dd.MM.yy</code></li>
<li><code>M/d/yyyy</code></li>
<li><code>M-d-yyyy</code></li>
<li><code>M.d.yyyy</code></li>
<li><code>M/d/yy</code></li>
<li><code>M-d-yy</code></li>
<li><code>M.d.yy</code></li>
<li><code>MM/dd/yyyy</code></li>
<li><code>MM-dd-yyyy</code></li>
<li><code>MM.dd.yyyy</code></li>
<li><code>MM/dd/yy</code></li>
<li><code>MM-dd-yy</code></li>
<li><code>MM.dd.yy</code></li>
<li><code>yyyy/MM/dd</code></li>
<li><code>yyyy-MM-dd</code></li>
<li><code>yyyy.MM.dd</code></li>
<li><code>yyyy/M/d</code></li>
<li><code>yyyy-M-d</code></li>
<li><code>yyyy.M.d</code></li>
</ul>
<p>Only the following time format strings are supported:</p>
<ul>
<li><code>h:mmtt</code></li>
<li><code>h:mm:sstt</code></li>
<li><code>hh:mmtt</code></li>
<li><code>hh:mm:sstt</code></li>
<li><code>H:mm</code></li>
<li><code>H:mm:ss</code></li>
<li><code>HH:mm</code></li>
<li><code>HH:mm:ss</code></li>
</ul>
<p>You can also combine one of the supported date formats with one of the supported time formats if the date format is first, followed by whitespace and then the time format (want to support more scenarios? feel free to <a href="https://github.com/MRCollective/ChameleonForms/pulls">send a pull request</a>).</p>
<p>To see what each of the format identifiers means, please consult the <a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/custom-date-and-time-format-strings">relevant Microsoft documentation</a>.</p>
<h2 id="want-another-format">Want another format?</h2>
<p>If you want support for another format string, please <a href="https://github.com/MRCollective/ChameleonForms/issues">lodge an issue</a> or <a href="https://github.com/MRCollective/ChameleonForms/pulls">send a pull request</a>.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/MRCollective/ChameleonForms/blob/master/docs/datetime-client-side-validation.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            © Copyright 2012-2020 MRCollective, Rob Moore, Matt Davies and the contributors to ChameleonForms.
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>